<!DOCTYPE html>
<html>

  <head>
    <title>DOM Test</title>
    <meta name="google-signin-client_id" content="282087479252-b8d869knnsqb3k7dtuhe5dlasl9e9orf.apps.googleusercontent.com">
    <script src="http://code.angularjs.org/1.0.8/angular.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.9.4/angular-material.min.css">

  </head>
    

 <p>
 <div class="g-signin2" data-onsuccess="onSignIn" ng-controller=""></div>
 </p>
	 <script>
	 function onSignIn(googleUser) {
		  var profile = googleUser.getBasicProfile();
			
		  console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
		  console.log('Name: ' + profile.getName());
		  console.log('Image URL: ' + profile.getImageUrl());
		  console.log('Email: ' + profile.getEmail());
		}
	 </script>
	 
<p>
  <a href="#" onclick="signOut();">Sign out</a>
	<script>
		  function signOut() {
		    var auth2 = gapi.auth2.getAuthInstance();
		    auth2.signOut().then(function () {
		      console.log('User signed out.');
		    });
		    
		  }
	</script>
</p> 
	 
<p>    
    <a href="#" onclick="revokeAllScopes();">Revoke all scopes</a>
	<script>
	function revokeAllScopes() {
		  var auth2 = gapi.auth2.getAuthInstance();

		    auth2.signOut().then(function () {
		      console.log('User signed out.');
		    });
		  auth2.disconnect();
		} 
	</script>
</p>
	 
<p>
	<a href="#" onclick="makeApiCall();">Make API call</a>
	<script>
	function makeApiCall() {
		
		if(gapi.client == null) alert('null');
		
		  gapi.client.load('plus', 'v1').then(function() {
		    var request = gapi.client.plus.people.get({
		        'userId': 'me'
		          });
		    request.then(function(resp) {
		      var heading = document.createElement('h4');
		      var image = document.createElement('img');
		      image.src = resp.result.image.url;
		      heading.appendChild(image);
		      heading.appendChild(document.createTextNode(resp.result.displayName));

		      document.getElementById('content').appendChild(heading);
		    }, function(reason) {
		      console.log('Error: ' + reason.result.error.message);
		    });
		  });
		}
	</script>
</p>
	 
	 
	 
  </body>
  

</html>
