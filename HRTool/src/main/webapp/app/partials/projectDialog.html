<md-dialog aria-label="Employee" flex="100">
<form>
	<md-toolbar>
	<div class="md-toolbar-tools">
		<h2 ng-show="!newProject">{{ selectedProject.nameProject }}</h2>
		<h2 ng-show="newProject">Create new project</h2>
		<span data-flex></span>

	</div>
	</md-toolbar>
	<md-dialog-content ng-init="init()" layout="row">
	    <div flex="35">
		    <md-input-container md-no-float="true">
	            <label>Project name: </label><input type="text" ng-model="selectedProject.nameProject" ng-disabled="!updateable"/>
		    </md-input-container>
            <md-input-container md-no-float = "true" layout="column" layout-align="center start">
                <label>Project start date: </label><input type="date" ng-model="selectedProject.startDate" ng-disabled="!updateable"/><br/>   
            </md-input-container>
	        <md-input-container md-no-float = "true" layout="column" layout-align="center start">
	            <label>Duration of project (in weeks): </label><input type="number" ng-model="selectedProject.durationOfProject" ng-disabled="!updateable"/><br/>   
	        </md-input-container>
	        <div>
	            <label>Industries on the project: </label>
	            <md-chips ng-model="industries" ng-click="updateAllIndustries()">
					<md-autocomplete md-selected-item="selectedItem" md-search-text="searchText"
					       md-items='item in querySearch(searchText, "Industry")'
					       md-item-text="item.nameTagCloud" placeholder="Search for Industry" 
					       md-no-cache="true" md-selected-item-change="updateAllIndustries()">                       
					    <span md-highlight-text="searchText">{{item.nameTagCloud}} :: {{item.tipTagCloud}}</span>
					    <md-not-found >
					        <span ng-click = "addNewTagCloud(searchText, 'Industry')">
					        Click here to add a new Industry ({{searchText}})</span>
					    </md-not-found>
					</md-autocomplete>
					<md-chip-template>
						<strong>{{$chip.nameTagCloud}}</strong>
						<em>(Industry)</em>
				    </md-chip-template>
			    </md-chips>
				<label>Platforms on the project: </label>             
				<md-chips ng-model="platforms" md-autocomplete-snap md-require-match ng-click="updateAllPlatforms()">
				    <md-autocomplete md-selected-item="selectedItem" md-search-text="searchText"
				       md-items='item in querySearch(searchText, "Platform")' md-item-text="item.nameTagCloud" 
				       placeholder="Search for Platform" md-no-cache="true" md-selected-item-change="updateAllPlatforms()">                       
				        <span md-highlight-text="searchText">{{item.nameTagCloud}} :: {{item.tipTagCloud}}</span>
				        <md-not-found >
				            <span ng-click = "addNewTagCloud(searchText, 'Platform')">
				            Click here to add a new Platform ({{searchText}})</span>
				        </md-not-found>
				    </md-autocomplete>
				    <md-chip-template>
				        <strong>{{$chip.nameTagCloud}}</strong>
				        <em>(Platform)</em>
				    </md-chip-template>
				</md-chips>
				<label>OS' on the project: </label>            
				<md-chips ng-model="oss" md-autocomplete-snap md-require-match ng-click="updateAllOss()">
				    <md-autocomplete md-selected-item="selectedItem" md-search-text="searchText"
				       md-items='item in querySearch(searchText, "OS")' md-item-text="item.nameTagCloud" 
				       placeholder="Search for OS" md-no-cache="true" md-selected-item-change="updateAllOss()">                       
				        <span md-highlight-text="searchText">{{item.nameTagCloud}} :: {{item.tipTagCloud}}</span>
				        <md-not-found >
				            <span ng-click = "addNewTagCloud(searchText, 'OS')">
				            Click here to add a new OS ({{searchText}})</span>
				        </md-not-found>
				    </md-autocomplete>
				    <md-chip-template>
				        <strong>{{$chip.nameTagCloud}}</strong>
				        <em>(OS)</em>
				    </md-chip-template>
				</md-chips>
	        </div>
	        <div flex="100">
	            <md-select ng-show="updateable && !newProject" placeholder="Employees" ng-model="otherEmps" ng-change="setSelectedEmployee(otherEmps)">
	                <md-option ng-repeat="e in otherEmployees" value="{{ $index }}">{{ e.nameEmployee }}</md-option>
	            </md-select>
	            <md-input-container ng-show="updateable && !newProject" md-no-float = "true">
	                <label> Job responsibilities of employee:</label>
	                <input type="text" ng-model="jobResponsibilities"/><br/> 
	            </md-input-container>
	            <md-input-container ng-show="updateable && !newProject" md-no-float = "true">
	                <label> Experience of employee on the project:</label>
	                <input type="text" ng-model="projectExp" /><br/><br/> 
	            </md-input-container>
	            <md-button ng-show="updateable && !newProject" ng-click="addEmployeeToProject(otherEmps)" class="md-primary">Add employee to project</md-button>
	        </div>
        </div>
        <div offset="5" flex="40">            
            <label ng-show="!newProject" style="font-size: 20px">Employees on the project:</label><br/><br/>
            <div ng-repeat="emp in employees">
                <div>
                    <label> {{ emp.nameEmployee }}</label>
                    <label> {{ emp.email }}</label>
                    <md-button ng-click="removeEmployeeFromProject(emp)" class="md-primary">Remove from project</md-button>
                </div>
                <br/>
                <div>
                    <md-input-container md-no-float = "true">
                        <label> Role of employee:</label>
                        <input type="text" ng-model="emp.projectInfo.jobResponsibilities" ng-disabled="!updateable || newProject"/><br/> 
                    </md-input-container>
                </div>
                <div>
                    <md-input-container md-no-float = "true">
                        <label> Experience of employee on the project:</label>
                        <input type="text" ng-model="emp.projectInfo.projectExp" ng-disabled="!updateable || newProject"/><br/><br/> 
                    </md-input-container>
                </div>
            </div>
        </div>
	</md-dialog-content>
	<md-divider></md-divider>
  	<div class="md-actions" layout="row">
	    <span flex></span>
	    <md-checkbox ng-show="!newProject" ng-model="updateable">Updateable</md-checkbox>
	    <md-button ng-show="updateable && !newProject" ng-click="updateProject()" class="md-primary">Update</md-button>
	    <md-button ng-show="newProject" ng-click="createProject()" class="md-primary">Create</md-button>
	    <md-button ng-click="answer('useful')" class="md-primary">EXIT</md-button>
	    <md-button ng-click="deleteProject()" class="md-primary md-raised">DELETE FOREVER</md-button>
    </div>
</form>
</md-dialog>